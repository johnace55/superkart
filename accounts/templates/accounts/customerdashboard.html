{% extends "tut/base.html" %}
{% load static %}

{% block content %}

<!-- ========================= SECTION CONTENT ========================= -->
<section class="section-conten padding-y bg">
<div class="container">
	<div class="row">
		{% include "accounts/c_sidebar.html" %}
		
		<main class="col-md-9">
			<article class="card">
				<header class="card-header">
					<strong class="d-inline-block mr-3">Customer Dashboard</strong>
				</header>

				<!-- Overview Cards -->
				<div class="card-body">
					<div class="row text-center align-items-stretch">
						<!-- Total Orders (smaller width) -->
						<div class="col-md-4">
							<div class="card shadow-sm p-3 mb-3 bg-white rounded h-100 d-flex flex-column justify-content-center" style="min-height:120px;">
								<h6 class="text-muted">Total Orders</h6>
									<h3 class="mb-0">{{orders_count}}</h3>
							</div>
						</div>
						<!-- Edit Profile (larger width) -->
						<div class="col-md-8">
							<div class="card shadow-sm p-3 mb-3 bg-white rounded h-100 d-flex flex-column justify-content-center" style="min-height:120px;">
								<h6 class="text-muted">Edit Profile</h6>
								<a href="{% url 'customerprofile' %}" style="text-decoration: none; color: inherit;">
									<i class="fas fa-user-edit fa-lg text-success"></i>
									<p class="mb-0 mt-1">Update</p>
								</a>
							</div>
						</div>
					</div> <!-- row.// -->
				</div> <!-- card-body .// -->

				<!-- Recent Orders -->
				<div class="card-body border-top">
					<h5 class="mb-3">Recent Orders</h5>
					<div class="table-responsive">
						<table class="table table-hover">
							<thead>
								<tr>
									<th>#</th>
									<th>Order ID</th>
									<th>Name</th>
									<th>Total</th>
									<th>Status</th>
									<th>Date</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody>
								{% for order in recent_orders %}
								<tr>
									<td>{{forloop.counter}}</td>
									<td>{{order.order_number}}</td>
									<td>{{order.name}}</td>
									<td>${{order.total}}</td>
									<td><span class="badge badge-success">{{order.status}}</span></td>
									<td>{{order.created_at}}</td>
									<td><a href="{% url 'c_order_details' order.order_number %}" class="btn btn-outline-primary btn-sm">Details</a></td>
								</tr>
								{% endfor %}
							
							</tbody>
						</table>
					</div> <!-- table-responsive .end// -->
				</div>

			</article>
		</main>

		<div class="form-group">
			{% include "accounts/alerts.html" %}
		</div> <!-- form-group// -->

	</div> <!-- row.// -->
</div>
</section>
<!-- ========================= SECTION CONTENT END// ========================= -->

{% endblock content %}
